{% extends 'base.html' %}
{% load static %}

{% block title %}Email Addresses - {{ SITE_NAME }}{% endblock %}

{% block content %}
<article style="max-width: 600px; margin: 2rem auto;">
    <header>
        <h1>Email Addresses</h1>
        <p>Manage your email addresses and verification status</p>
    </header>

    {% if emailaddresses %}
    <section>
        <h3>Your Email Addresses</h3>
        {% for emailaddress in emailaddresses %}
        <div style="padding: 1rem; border: 1px solid var(--muted-border-color); border-radius: 0.5rem; margin-bottom: 1rem;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <strong>{{ emailaddress.email }}</strong>
                    {% if emailaddress.verified %}
                    <span style="color: green;">✓ Verified</span>
                    {% else %}
                    <span style="color: orange;">⚠ Not Verified</span>
                    {% endif %}
                    {% if emailaddress.primary %}
                    <span style="background: var(--primary); color: white; padding: 0.2rem 0.5rem; border-radius: 0.25rem; font-size: 0.8em;">Primary</span>
                    {% endif %}
                </div>
                <div>
                    {% if not emailaddress.verified %}
                    <form method="post" action="{% url 'account_email' %}" style="display: inline;">
                        {% csrf_token %}
                        <input type="hidden" name="action" value="send">
                        <input type="hidden" name="email" value="{{ emailaddress.email }}">
                        <button type="submit" class="secondary" style="padding: 0.5rem 1rem;">Send Verification</button>
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </section>
    {% else %}
    <p>No email addresses configured.</p>
    {% endif %}

    <footer>
        <a href="{% url 'accounts:profile' %}" role="button" class="secondary">← Back to Profile</a>
    </footer>
</article>
{% endblock %}

