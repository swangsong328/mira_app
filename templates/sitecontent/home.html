{% extends 'base.html' %}
{% load static %}

{% block title %}{{ meta.title }}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero" style="background-image: linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.35)), url('{{ background_image_url }}');">
    <hgroup>
        <h1>Welcome to {{ SITE_NAME }}</h1>
        <h2>statement to explain your business (can be updated but i want to hafve a long long long long placeholder here)</h2>
    </hgroup>
    <p>
        <a href="{% url 'guest_booking_step1_service' %}" role="button">Book Appointment</a>
        <a href="{% url 'services' %}" role="button" class="secondary">View Services</a>
    </p>
</section>

<!-- Featured Services -->
<section>
    <h2>Our Services</h2>
    <div class="grid">
        {% for service in featured_services %}
        <article>
            {% if service.image %}
                <img src="{{ service.image.url }}" alt="{{ service.name }}">
            {% endif %}
            <h3>{{ service.name }}</h3>
            <p>{{ service.short_description|default:service.description|truncatewords:20 }}</p>
            <footer>
                <p><strong>${{ service.price }}</strong> â€¢ {{ service.duration }} min</p>
                <a href="{% url 'services_detail' service.slug %}">Learn More</a>
            </footer>
        </article>
        {% empty %}
        <p>No services available at the moment.</p>
        {% endfor %}
    </div>
</section>

<!-- Featured Staff -->
<section>
    <h2>Our Team Members</h2>
    <div class="grid">
        {% for staff_member in featured_staff %}
        <article class="text-center">
            {% if staff_member.avatar %}
                <img src="{{ staff_member.avatar.url }}" alt="{{ staff_member.get_full_name }}" style="border-radius: 50%; width: 150px; height: 150px; object-fit: cover; margin: 0 auto;">
            {% endif %}
            <h4>{{ staff_member.get_full_name }}</h4>
            <p>{{ staff_member.bio|truncatewords:15 }}</p>
            <a href="{% url 'staff_detail' staff_member.slug %}">View Profile</a>
        </article>
        {% empty %}
        <p>Staff information coming soon.</p>
        {% endfor %}
    </div>
</section>

<!-- Call to Action -->
<section class="cta">
    <h2>Ready to Look Your Best?</h2>
    <p>
        <a href="{% url 'guest_booking_step1_service' %}" role="button">Book Now</a>
    </p>
</section>
{% endblock %}

{% block extra_css %}
<style>
    .hero {
        text-align: center;
        padding: 6rem 1rem;
        background-size: cover;
        background-position: center 20%;
        background-repeat: no-repeat;
        color: white;
        border-radius: var(--border-radius);
    }
    @media (max-width: 768px) {
        .hero {
            background-position: center 30%;
        }
    }
    .cta {
        text-align: center;
        padding: 3rem 0;
        background-color: var(--card-background-color);
        border-radius: var(--border-radius);
        margin-top: 3rem;
    }
    .text-center {
        text-align: center;
    }
    .hero h1, .hero h2 {
        text-shadow: 0 2px 8px rgba(0,0,0,0.35);
        margin: 0.25rem 0;
    }
    .hero p { margin-top: 1rem; }
</style>
{% endblock %}


